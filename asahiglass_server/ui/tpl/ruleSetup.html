
   <!-- [ Main Content ] start -->
   <toaster-container></toaster-container>
    <section class="pcoded-main-container">
   
            <div class="pcoded-wrapper">
                <div class="pcoded-content">
                    <div class="pcoded-inner-content">
                        <!-- [ breadcrumb ] start -->
                        
                        <!-- [ breadcrumb ] end -->
                        <div class="main-body">
                            <div class="page-wrapper">
                                <!-- [ Main Content ] start -->
                                <div class="row">

                                    <div class="col-sm-12">
                                        <div class="card">
                                            <div class="card-header">
                                                <h5>Rule Mapping</h5>
                                            </div>
                                            <div class="card-block">
                                                <div class="row">
                                                    <div class="col-lg-3">
                                                            <div class="form-group">
                                                                    <label for="Device Type">Select Type</label>
                                                                    <select  ng-model="type" class="form-control" id="sel1" ng-change="changeRule(type)" name="sellist1">
                                                                        <option value="">Select Type</option>
                                                                        <option ng-repeat="type in types" value="{{type.id}}">
                                                                            {{type.name}}
                                                                        </option>
                                                                    </select>  
                                                            </div> 
                                                    </div>

                   

                                                    <div class="col-lg-3">
                                                        <div class="form-group">
                                                                <label for="Device Type">Select {{lable}}</label>
                                                                <select  ng-model="identifier" class="form-control" id="sel1"  name="sellist1">
                                                                    <option value="">Select {{lable}}</option>
                                                                    <option ng-repeat="data in Datas" value="{{data.uniqueId}}">
                                                                        {{data.name}}
                                                                    </option>
                                                                </select>  
                                                        </div> 
                                                    </div>
                                                    <div class="col-lg-3">
                                                        
                                                    </div>                                                 
                                                    <div ng-if="Savebutton == true" class="col-lg-3">
                                                            <label for="pwd">&nbsp;</label>
                                                        <button type="button" data-toggle="modal"
                                                        data-target="#exampleModal" ng-disabled="!identifier ||!type " ng-click="commit()" class="btn btn-primary btn-block" >Commit</button>
                                                    </div>

                                                <!--code for modal window starts-->
                                                <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
                                                    aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                        <div class="modal-dialog" role="document">
                                                       
                                                            <div class="modal-content">
                                                                    <div class="modal-header">
                                                                        <h5 class="modal-title" id="exampleModalLabel"><b>Rules</b></h5>
                                                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                                            <span aria-hidden="true">&times;</span>
                                                                        </button>
                                                                    </div>
                                                                    <div class="modal-body">
                                                                            <div ng-show="showList" class="taskboard-right-revision user-box">
                                                                                    <div class="media" ng-repeat="ruless in rulesArray">
                                                                                        <div class="media-left">
                                                                                            <a class="btn btn-outline-primary btn-icon"  role="button"><i class="fas fa fa-gavel"></i>
                                                                                            </a>
                                                                                        </div>
                                                                                        <div class="media-body">
                                                                                            <div class="chat-header f-w-400 mb-1">{{ruless.name}}</div>
                                                                                            <p class="chat-header  text-muted">{{ruless.attribute}}</p>
                                                                                        </div>

                                                                                        <div style="">
                                                                                                <button ng-click="removeRule(ruless)" type="button" class="btn btn-icon btn-danger"><i class="feather icon-slash"></i></button>
                                                                                        </div>
                                                                                    </div>
                                                                            </div>
                                                                            <p ng-hide="showList">Please select and add the rules</p>
                                                                    </div>
                                                                    <div class="modal-footer">
                                                                        <button type="button" ng-click="cancelAll()" class="btn btn-secondary"
                                                                            data-dismiss="modal">Cancel</button>
                                                                        <button type="button" ng-click="saveRule()" class="btn btn-primary"
                                                                            data-dismiss="modal">Save</button>
                                                                    </div>
                                                                </div>

                                                        </div>
                                                    </div>
                                                </div>
                                                <!--code for modal window ends-->

                                                    <div class="col-sm-12" ng-show="showrules == true">
                                                        <div class="card-block table-border-style">
                                                            <div class="card-block coustomBlock">
                                                                <table id="ruleList" class="table table-columned" width="100%">
                                                                <thead style="background: gainsboro;">
                                                                    <tr>
                                                                        <th>#</th>
                                                                        <th>Name</th>
                                                                        <th>Operator</th>
                                                                        <th>Attribute</th>
                                                                        <th>Description</th>
                                                                        <th>Action</th>
                                                                    </tr>
                                                                </thead>
                                                            </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            </div>


                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="card" ng-show="showTable == false">
                                            <div class="card-header">
                                                <h5>Rule List</h5>
                                            </div>
                                            <div class="card-block coustomBlock">
                                                <table id="rules" class="display table nowrap table-striped table-hover"
                                                    width="100%">
                                                    <thead>
                                                        <tr>
                                                            <th>Asset/Zone</th>
                                                            <th>Rule</th>
                                                            <th>Attribute</th>
                                                            <th>Action</th>
                                                        </tr>
                                                    </thead>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="card" ng-show="showTable == true">
                                            <div class="card-header">
                                                <h5>Device List</h5>
                                            </div>
                                            <div class="card-block coustomBlock">
                                                <div class="c-wrap mx-2">
                                                    <i class="feather icon-file-text mx-auto d-block text-center text-dark"
                                                        style="font-size: 36px;" aria-hidden="true"> </i>
        
                                                    <p class="text-center text-dark" style="margin: 10px 0px;">No records Found!
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
            </div>
        </section>
        <!-- [ Main Content ] end -->
    
